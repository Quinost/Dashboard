@page "/config"
@attribute [Authorize(Roles = "Administrator")]

<MudCard Class="rounded-lg" Style="width:95%" Elevation="4">
    <MudForm Model="@model" @ref="@form" Validation="@ValidateValue" ValidationDelay="0">
        <MudCardContent>
            <MudTextField @bind-Value="model.WatcherWorkerDelayTime"
                          For="@(() => model.WatcherWorkerDelayTime)"
                          Immediate="true"
                          Label="Watcher delay time in minutes:" />

            <MudTextField @bind-Value="model.TokenExpirationTime"
                          For="@(() => model.TokenExpirationTime)"
                          Immediate="true"
                          Disabled="true"
                          Label="Access token expiration in minutes:" />
        </MudCardContent>
        <MudCardActions>
            <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" 
                Color="Color.Dark" FullWidth="false" OnClick="@(async () => await OnSubmit())">Update</MudButton>
        </MudCardActions>
    </MudForm>
</MudCard>
